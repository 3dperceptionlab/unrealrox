

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Scene configuration &mdash; UnrealROX 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="VR Controllers" href="controllers.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> UnrealROX
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/howtouse.html">How to use UnrealROX</a></li>
</ul>
<p class="caption"><span class="caption-text">UnrealROX Project</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="general.html">Project structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Hardware and Software prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scene configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#import-scene-to-unrealrox">Import scene to UnrealROX</a></li>
<li class="toctree-l2"><a class="reference internal" href="#do-you-need-a-robot-for-you-scene">Do you need a robot for you scene?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-and-configure-scene-objects">Check and configure scene objects!</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-scene-lighting">Build scene lighting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controllers.html">VR Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="recording.html">Recording</a></li>
<li class="toctree-l1"><a class="reference internal" href="playback.html">Playback</a></li>
</ul>
<p class="caption"><span class="caption-text">UnrealROX Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/system.html">UnrealROX architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">Contact</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">UnrealROX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Scene configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_site/project/sceneconfig.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scene-configuration">
<span id="scene"></span><h1>Scene configuration<a class="headerlink" href="#scene-configuration" title="Permalink to this headline">¶</a></h1>
<p>Now you have the UnrealROX project you will learn how to use it properly. First of all you need to get a photorrealistic scene or create your own. The scenes we used are the following:</p>
<ul class="simple">
<li><a class="reference external" href="https://ue4arch.com/projects/interactive-house/">Interactive House</a></li>
<li><a class="reference external" href="https://ue4arch.com/projects/viennese-apartment/">Viennese Apartment</a></li>
<li><a class="reference external" href="https://www.unrealengine.com/marketplace/xoio-berlin-flat">Xoio Berlin Flat</a></li>
<li><a class="reference external" href="https://ue4arch.com/projects/hamburg/">Hamburg House</a></li>
<li>etc.</li>
</ul>
<div class="section" id="import-scene-to-unrealrox">
<h2>Import scene to UnrealROX<a class="headerlink" href="#import-scene-to-unrealrox" title="Permalink to this headline">¶</a></h2>
<p>To import your scene to the UnrealROX project you need to:</p>
<ol class="arabic simple">
<li><strong>Migrate your scene to UnrealROX</strong>. On the one hand we have the UnrealROX project to which we want to import the scene from other UE4 project. Open your scene project and go to the Content Browser and localize <em>.umap</em> file of your scene, <em>right-click</em> and go to <em>Asset Actions-&gt;Migrate</em>. Now you need to navigate to the <em>Content</em> folder of UnrealROX project and select it as target for migrating your scene.</li>
</ol>
</div>
<div class="section" id="do-you-need-a-robot-for-you-scene">
<h2>Do you need a robot for you scene?<a class="headerlink" href="#do-you-need-a-robot-for-you-scene" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><strong>(Experimental) Import your own robot</strong>. We are currently working on this feature (import a robot using its <em>URDF</em> robot model). In order to import your own robot you need the corresponding meshes, textures and skeleton. You also need to define constraints to control robot&#8217;s movement and physics simulation. Then you need to configure the grasping system placing some <em>triggers</em> (e.g. <em>sphere triggers</em>) on robot&#8217;s fingers/gripper and also code a new logic for the new hand or gripper.</li>
</ol>
<ol class="arabic simple">
<li><strong>Put the robot in your scene</strong>. From this point we will only work on the UnrealROX project. In the UE4 editor go to the Content Browser and navigate to <em>Mannequin-&gt;Meshes</em> selecting your pawn (e.g. <em>ROXMannequinPawn</em>) and drag it to the scene. You can scale your robot to match with your scene scale.</li>
</ol>
</div>
<div class="section" id="check-and-configure-scene-objects">
<h2>Check and configure scene objects!<a class="headerlink" href="#check-and-configure-scene-objects" title="Permalink to this headline">¶</a></h2>
<p>You need to check object pivots are placed correctly in order to properly simulate physics during interaction. You also need to configure the objects you will interact with. To do this, following the next steps:</p>
<ol class="arabic">
<li><p class="first"><strong>Check object pivots</strong>. Run your scene and check that all object pivots are placed on the geometrical center of its meshes for configure X and Y axis (Note: Z axis should be 0 for a better interaction with some objects). This is important to track all the objects correctly during the recording and playback steps. However, this is a tedious task thus realistic scenes have lots of objects. Due to this, we use the plugin <a class="reference external" href="https://www.unrealengine.com/marketplace/pivot-tool">pivot tool</a> which works like a charm (we don&#8217;t include it in the project because of license conflicts).</p>
</li>
<li><p class="first"><strong>Configure interactable objects</strong>. Choose the object you want to interact with from the World Outlier (by default placed on the right side in the UE4 editor) and do the following:</p>
<blockquote>
<div><p>2.1. <strong>You need object to be movable</strong>. Go to <em>Transform-&gt;Mobility</em> and set the object to <em>Movable</em>. Almost all the objects are static by default.</p>
<p>2.2. <strong>You need physics simulation</strong>. Go to <em>Physics</em> and check <em>Simulate Physics</em> option.</p>
<p>2.3. <strong>You need overlap events</strong>. Go to <em>Collision</em> and check <em>Generate Overlap Events</em> option. <strong>This is a must</strong> for the grasping system in order to grab an object correctly. If this option is disabled, grasping wouldn&#8217;t work.</p>
<p>2.4. <strong>You need an accurate collision mesh</strong>. You also need to check object geometry to achieve a visually plausible grasping. <em>Right-click</em> on the object and <em>Edit</em>. In the <em>Object Editor</em> you need to visualize the simple and complex collision meshes and visually check its accuracy. If object geometry is complex and the collision mesh is rough, you should improve this by auto generating convex collision (go to editor menubar and <em>Collision-&gt;Auto Convex Collision</em>) with maximum hull verts and accuracy. For the objects with a complex geometry you should set the <em>Collision Complexity</em> to <em>Use simple collision as complex</em>. In this way you will achieve a more realistic grasping, however, physics simulation will be much more complicated so when interacting with two or more objects you may notice an unstable behavior.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="build-scene-lighting">
<h2>Build scene lighting<a class="headerlink" href="#build-scene-lighting" title="Permalink to this headline">¶</a></h2>
<p>Lighting configuration is a time-consuming step. In order to optimize this process pay attention to the general scene lightning configuration.</p>
<ol class="arabic simple">
<li><strong>Build scene lighting</strong>. Now you need to build project lighting! The steps above are very important, especially the step of setting the objects as movable. You need to set lighting configuration according to your PC specs. By default, lighting configuration is too demanding for a mid-high range computer. For a fast and feasible lighting generation we recommend the following configuration you can do in the <em>World Settings-&gt;Lightmass</em>. See the Figure 1.</li>
</ol>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../_images/lightmass.jpg"><img alt="Scene light configuration we used to build lighting and produce photorealistic results." src="../../_images/lightmass.jpg" style="width: 512.25px; height: 435.75px;" /></a>
<p class="caption"><span class="caption-text">Figure 1. Scene light configuration we used to build lighting and produce photorealistic results.</span></p>
</div>
<p><strong>Scene ready to record your own sequences!</strong></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="controllers.html" class="btn btn-neutral float-right" title="VR Controllers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Pablo Martinez-Gonzalez, Sergiu Oprea, Alberto Garcia-Garcia, Sergio Orts-Escolano and Jose Garcia-Rodriguez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'0.0.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>